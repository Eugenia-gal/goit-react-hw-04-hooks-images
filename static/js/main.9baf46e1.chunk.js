(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__TI6cZ",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__RxVXE","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__3do9O"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2CYVj",Modal:"Modal_Modal__1x44C"}},25:function(e,t,a){e.exports={Button:"Button_Button__3ORqK"}},27:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1Q4DK"}},33:function(e,t,a){},6:function(e,t,a){e.exports={wrapper:"SearchBar_wrapper__eAuh9",form:"SearchBar_form__HvBA5",submit_btn:"SearchBar_submit_btn__23Wpc",search_input:"SearchBar_search_input__O-dPU",icon:"SearchBar_icon__7_Pf6"}},74:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),s=(a(33),a(4)),u=a(5),i=a(28),l=a(6),m=a.n(l),b=a(1);function j(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(b.jsx)("div",{className:m.a.wrapper,children:Object(b.jsxs)("form",{className:m.a.form,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):u.b.error("Enter your query please")},children:[Object(b.jsx)("button",{className:m.a.submit_btn,type:"submit",children:Object(b.jsx)(i.a,{className:m.a.icon})}),Object(b.jsx)("input",{className:m.a.search_input,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",type:"text",name:"search",value:c,onChange:function(e){return o(e.target.value)}})]})})}var g=a(8),f=a.n(g),p=a(14),h=a(11),O=a(24),d=a.n(O),_=a(12),v=a.n(_);var x=function(e){var t=e.src,a=e.tags,n=e.largeImage,r=e.onClick;return Object(b.jsx)("li",{className:v.a.ImageGalleryItem,children:Object(b.jsx)("img",{src:t,alt:a,className:v.a.ImageGalleryItem_image,onClick:function(){r({largeImage:n,tags:a})}})})},y=a(25),I=a.n(y);var S=function(e){var t=e.onClick;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("button",{type:"button",className:I.a.Button,onClick:t,children:"Load more"})})},k=a(26),w=a.n(k);var C=function(e,t){return w.a.get("https://pixabay.com/api/",{params:{q:e,page:"".concat(t),key:"21801737-49cda37636a05962c9a05323f",image_type:"photo",orientation:"horizontal",per_page:"12"}}).then((function(e){return e.data.hits}))},G=a(27),B=a.n(G),N="idle",E="pending",F="resolved",L="rejected";var q=function(e){var t=e.query,a=e.onSelect,r=Object(n.useState)(1),c=Object(s.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)([]),m=Object(s.a)(l,2),j=m[0],g=m[1],O=Object(n.useState)(N),_=Object(s.a)(O,2),v=_[0],y=_[1],I=Object(n.useState)(null),k=Object(s.a)(I,2),w=k[0],G=k[1],q=function(){var e=Object(h.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(E),e.prev=1,e.next=4,C(t,a);case 4:if(0!==(n=e.sent).length){e.next=9;break}return y(N),i(1),e.abrupt("return",u.b.error("Search result is not successful. Enter the correct query and try again, please."));case 9:g((function(e){return[].concat(Object(p.a)(e),Object(p.a)(n))})),y(F),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),G(e.t0.message),y(L),u.b.error("Oops! Something went wrong... Please try again. If the problem persists, contact our customer support");case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){""!==t&&(i(1),g([]),G(null),q(t,1))}),[t]),Object(n.useEffect)((function(){""!==t&&1!==o&&function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(null),e.next=3,q(t,o);case 3:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,t]),Object(b.jsxs)(b.Fragment,{children:[v===L&&Object(b.jsxs)("h1",{children:["Error: ",w]}),Object(b.jsx)("ul",{className:B.a.ImageGallery,children:j.length>0&&j.map((function(e){return Object(b.jsx)(x,{src:e.webformatURL,tags:e.tags,largeImage:e.largeImageURL,onClick:a},e.id)}))}),v===E&&Object(b.jsx)(d.a,{type:"ThreeDots",color:"#3f51b5",height:100,width:100}),v===F&&j.length>0&&Object(b.jsx)(S,{onClick:function(){i((function(e){return e+1}))}})]})},M=a(13),T=a.n(M);var P=function(e){var t=e.onClose,a=e.src,r=e.tags;return Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),Object(b.jsx)("div",{className:T.a.Overlay,onClick:function(e){!function(e){e.target===e.currentTarget&&t()}(e)},children:Object(b.jsx)("div",{className:T.a.Modal,children:Object(b.jsx)("img",{src:a,alt:r})})})};a(74),a(75);var D=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),i=o[0],l=o[1],m=Object(n.useState)(null),g=Object(s.a)(m,2),f=g[0],p=g[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(j,{onSubmit:function(e){r(e)}}),Object(b.jsx)(q,{query:a,onSelect:function(e){var t=e.largeImage,a=e.tags;l(t),p(a)}}),i&&Object(b.jsx)(P,{src:i,tags:f,onClose:function(){l(null)}}),Object(b.jsx)(u.a,{position:"top-right",toastOptions:{duration:3e3}})]})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,77)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),R()}},[[76,1,2]]]);
//# sourceMappingURL=main.9baf46e1.chunk.js.map