(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__TI6cZ",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__RxVXE","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__3do9O"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2CYVj",Modal:"Modal_Modal__1x44C"}},27:function(e,t,a){e.exports={Button:"Button_Button__3ORqK"}},29:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1Q4DK"}},37:function(e,t,a){},6:function(e,t,a){e.exports={wrapper:"SearchBar_wrapper__eAuh9",form:"SearchBar_form__HvBA5",submit_btn:"SearchBar_submit_btn__23Wpc",search_input:"SearchBar_search_input__O-dPU",icon:"SearchBar_icon__7_Pf6"}},78:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),s=(a(37),a(4)),i=a(5),u=a(24),l=a(25),m=a(32),h=a(30),b=a(31),j=a(6),g=a.n(j),p=a(1),f=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchQuery:""},e.handleChange=function(t){e.setState({searchQuery:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.searchQuery.trim()?(e.props.onSubmit(e.state.searchQuery),e.setState({searchQuery:""})):i.b.error("Enter your query please",{position:"top-right",duration:2e3})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:g.a.wrapper,children:Object(p.jsxs)("form",{className:g.a.form,onSubmit:this.handleSubmit,children:[Object(p.jsx)("button",{className:g.a.submit_btn,type:"submit",children:Object(p.jsx)(b.a,{className:g.a.icon})}),Object(p.jsx)("input",{className:g.a.search_input,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",type:"text",name:"search",value:this.state.searchQuery,onChange:this.handleChange})]})})}}]),a}(n.Component),d=a(8),O=a.n(d),_=a(14),y=a(11),v=a(26),x=a.n(v),I=a(12),S=a.n(I);var k=function(e){var t=e.src,a=e.tags,n=e.largeImage,r=e.onClick;return Object(p.jsx)("li",{className:S.a.ImageGalleryItem,children:Object(p.jsx)("img",{src:t,alt:a,className:S.a.ImageGalleryItem_image,onClick:function(){r({largeImage:n,tags:a})}})})},w=a(27),C=a.n(w);var G=function(e){var t=e.onClick;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("button",{type:"button",className:C.a.Button,onClick:t,children:"Load more"})})},B=a(28),N=a.n(B);var E=function(e,t){return N.a.get("https://pixabay.com/api/",{params:{q:e,page:"".concat(t),key:"21801737-49cda37636a05962c9a05323f",image_type:"photo",orientation:"horizontal",per_page:"12"}}).then((function(e){return e.data.hits}))},F=a(29),L=a.n(F),Q="idle",q="pending",M="resolved",T="rejected";var P=function(e){var t=e.query,a=e.onSelect,r=Object(n.useState)(1),c=Object(s.a)(r,2),o=c[0],u=c[1],l=Object(n.useState)([]),m=Object(s.a)(l,2),h=m[0],b=m[1],j=Object(n.useState)(Q),g=Object(s.a)(j,2),f=g[0],d=g[1],v=Object(n.useState)(null),I=Object(s.a)(v,2),S=I[0],w=I[1],C=function(){var e=Object(y.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(q),e.prev=1,e.next=4,E(t,a);case 4:if(0!==(n=e.sent).length){e.next=9;break}return d(Q),u(1),e.abrupt("return",i.b.error("Search result is not successful. Enter the correct query and try again, please."));case 9:b((function(e){return[].concat(Object(_.a)(e),Object(_.a)(n))})),d(M),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),w(e.t0.message),d(T),i.b.error("Oops! Something went wrong... Please try again. If the problem persists, contact our customer support");case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){""!==t&&(u(1),b([]),w(null),C(t,1))}),[t]),Object(n.useEffect)((function(){""!==t&&1!==o&&function(){var e=Object(y.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(null),e.next=3,C(t,o);case 3:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,t]),Object(p.jsxs)(p.Fragment,{children:[f===T&&Object(p.jsxs)("h1",{children:["Error: ",S]}),Object(p.jsx)("ul",{className:L.a.ImageGallery,children:h.length>0&&h.map((function(e){return Object(p.jsx)(k,{src:e.webformatURL,tags:e.tags,largeImage:e.largeImageURL,onClick:a},e.id)}))}),f===q&&Object(p.jsx)(x.a,{type:"ThreeDots",color:"#3f51b5",height:100,width:100}),f===M&&h.length>0&&Object(p.jsx)(G,{onClick:function(){u((function(e){return e+1}))}})]})},A=a(13),D=a.n(A);var R=function(e){var t=e.onClose,a=e.src,r=e.tags;return Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),Object(p.jsx)("div",{className:D.a.Overlay,onClick:function(e){!function(e){e.target===e.currentTarget&&t()}(e)},children:Object(p.jsx)("div",{className:D.a.Modal,children:Object(p.jsx)("img",{src:a,alt:r})})})};a(78),a(79);var U=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),u=o[0],l=o[1],m=Object(n.useState)(null),h=Object(s.a)(m,2),b=h[0],j=h[1];return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(f,{onSubmit:function(e){r(e)}}),Object(p.jsx)(P,{query:a,onSelect:function(e){var t=e.largeImage,a=e.tags;l(t),j(a)}}),u&&Object(p.jsx)(R,{src:u,tags:b,onClose:function(){l(null)}}),Object(p.jsx)(i.a,{position:"top-right",toastOptions:{duration:3e3}})]})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,81)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(U,{})}),document.getElementById("root")),H()}},[[80,1,2]]]);
//# sourceMappingURL=main.eb6719fd.chunk.js.map