{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.scss","Components/Modal/Modal.module.scss","Components/Button/Button.module.scss","Components/ImageGallery/ImageGallery.module.scss","Components/SearchBar/SearchBar.module.scss","Components/SearchBar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/Button/Button.jsx","Services/getImages.js","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","searchQuery","setSearchQuery","className","s","wrapper","form","e","preventDefault","trim","toast","error","submit_btn","type","icon","search_input","autoComplete","autoFocus","placeholder","name","value","onChange","target","ImageGalleryItem","src","tags","largeImage","onClick","alt","ImageGalleryItem_image","Button","fetchImages","query","page","axios","get","params","q","key","image_type","orientation","per_page","then","response","data","hits","STATUS","ImageGallery","onSelect","currentPage","setCurrentPage","images","setimages","status","setStatus","setError","getImages","a","length","prevState","message","useEffect","window","scrollTo","top","document","documentElement","scrollHeight","behavior","Pagination","map","image","webformatURL","largeImageURL","id","color","height","width","Modal","onClose","escFunction","keyCode","addEventListener","removeEventListener","Overlay","currentTarget","closeModal","App","setsearchQuery","selectedImage","setselectedImage","selectedImageTags","setselectedImageTags","text","position","toastOptions","duration","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9baf46e1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__TI6cZ\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__RxVXE\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3do9O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2CYVj\",\"Modal\":\"Modal_Modal__1x44C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3ORqK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1Q4DK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SearchBar_wrapper__eAuh9\",\"form\":\"SearchBar_form__HvBA5\",\"submit_btn\":\"SearchBar_submit_btn__23Wpc\",\"search_input\":\"SearchBar_search_input__O-dPU\",\"icon\":\"SearchBar_icon__7_Pf6\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { AiOutlineSearch } from 'react-icons/ai';\r\nimport toast from 'react-hot-toast';\r\nimport s from './SearchBar.module.scss';\r\n\r\nexport function SearchBar({ onSubmit }) {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (searchQuery.trim() === '') {\r\n      toast.error('Enter your query please');\r\n      return;\r\n    }\r\n\r\n    onSubmit(searchQuery);\r\n    setSearchQuery('');\r\n  };\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <form className={s.form} onSubmit={handleSubmit}>\r\n        <button className={s.submit_btn} type=\"submit\">\r\n          <AiOutlineSearch className={s.icon} />\r\n        </button>\r\n        <input\r\n          className={s.search_input}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          type=\"text\"\r\n          name=\"search\"\r\n          value={searchQuery}\r\n          onChange={e => setSearchQuery(e.target.value)}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.scss';\r\n\r\nfunction ImageGalleryItem({ src, tags, largeImage, onClick }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={src}\r\n        alt={tags}\r\n        className={s.ImageGalleryItem_image}\r\n        onClick={() => {\r\n          onClick({ largeImage, tags });\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  largeImage: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.scss';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <>\r\n      <button type=\"button\" className={s.Button} onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import axios from 'axios';\n\nconst baseURL = 'https://pixabay.com/api/';\nconst apiKey = '21801737-49cda37636a05962c9a05323f';\n\nfunction fetchImages(query, page) {\n  return axios\n    .get(baseURL, {\n      params: {\n        q: query,\n        page: `${page}`,\n        key: apiKey,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        per_page: '12',\n      },\n    })\n    .then(response => response.data.hits);\n}\n\nexport default fetchImages;\n","import { useState, useEffect } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from 'Components/ImageGalleryItem';\r\nimport Button from 'Components/Button';\r\nimport fetchImages from 'Services/getImages';\r\nimport s from './ImageGallery.module.scss';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst STATUS = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nfunction ImageGallery({ query, onSelect }) {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [images, setimages] = useState([]);\r\n  const [status, setStatus] = useState(STATUS.IDLE);\r\n  const [error, setError] = useState(null);\r\n\r\n  const getImages = async (query, page) => {\r\n    setStatus(STATUS.PENDING);\r\n    try {\r\n      const images = await fetchImages(query, page);\r\n      if (images.length === 0) {\r\n        setStatus(STATUS.IDLE);\r\n        setCurrentPage(1);\r\n        return toast.error(\r\n          'Search result is not successful. Enter the correct query and try again, please.',\r\n        );\r\n      }\r\n      setimages(prevState => [...prevState, ...images]);\r\n      setStatus(STATUS.RESOLVED);\r\n    } catch (error) {\r\n      setError(error.message);\r\n      setStatus(STATUS.REJECTED);\r\n      toast.error(\r\n        'Oops! Something went wrong... Please try again. If the problem persists, contact our customer support',\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (query !== '') {\r\n      setCurrentPage(1);\r\n      setimages([]);\r\n      setError(null);\r\n      getImages(query, 1);\r\n    }\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    if (query !== '' && currentPage !== 1) {\r\n      async function Pagination() {\r\n        setError(null);\r\n        await getImages(query, currentPage);\r\n\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      }\r\n      Pagination();\r\n    }\r\n  }, [currentPage, query]);\r\n\r\n  return (\r\n    <>\r\n      {status === STATUS.REJECTED && <h1>Error: {error}</h1>}\r\n      <ul className={s.ImageGallery}>\r\n        {images.length > 0 &&\r\n          images.map(image => (\r\n            <ImageGalleryItem\r\n              key={image.id}\r\n              src={image.webformatURL}\r\n              tags={image.tags}\r\n              largeImage={image.largeImageURL}\r\n              onClick={onSelect}\r\n            />\r\n          ))}\r\n      </ul>\r\n\r\n      {status === STATUS.PENDING && (\r\n        <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={100} width={100} />\r\n      )}\r\n      {status === STATUS.RESOLVED && images.length > 0 && (\r\n        <Button\r\n          onClick={() => {\r\n            setCurrentPage(prevState => prevState + 1);\r\n          }}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  query: PropTypes.string,\r\n  onSelect: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.scss';\r\n\r\nfunction Modal({ onClose, src, tags }) {\r\n  const closeModal = e => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const escFunction = e => {\r\n      if (e.keyCode === 27) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', escFunction);\r\n\r\n    return function cleanup() {\r\n      document.removeEventListener('keydown', escFunction);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={s.Overlay}\r\n      onClick={e => {\r\n        closeModal(e);\r\n      }}\r\n    >\r\n      <div className={s.Modal}>\r\n        <img src={src} alt={tags} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  src: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default Modal;\r\n","import { useState } from 'react';\nimport { Toaster } from 'react-hot-toast';\nimport { SearchBar } from './Components/SearchBar/SearchBar';\nimport ImageGallery from 'Components/ImageGallery/ImageGallery';\nimport Modal from 'Components/Modal/Modal';\nimport './App.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nfunction App() {\n  const [searchQuery, setsearchQuery] = useState('');\n  const [selectedImage, setselectedImage] = useState(null);\n  const [selectedImageTags, setselectedImageTags] = useState(null);\n\n  return (\n    <div className=\"App\">\n      <SearchBar\n        onSubmit={text => {\n          setsearchQuery(text);\n        }}\n      />\n      <ImageGallery\n        query={searchQuery}\n        onSelect={({ largeImage, tags }) => {\n          setselectedImage(largeImage);\n          setselectedImageTags(tags);\n        }}\n      />\n      {selectedImage && (\n        <Modal\n          src={selectedImage}\n          tags={selectedImageTags}\n          onClose={() => {\n            setselectedImage(null);\n          }}\n        />\n      )}\n      <Toaster position=\"top-right\" toastOptions={{ duration: 3000 }} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}